################################################################################
# DGX-Pixels Production Environment Configuration
# Copy this file to .env and customize for your deployment
#
# Usage:
#   cp .env.production .env
#   # Edit .env with your values
#   docker compose up -d
#
################################################################################

# ============================================================================
# Project Configuration
# ============================================================================
PROJECT_NAME=dgx-pixels
PROJECT_ROOT=/home/beengud/raibid-labs/dgx-pixels

# ============================================================================
# GPU Configuration
# ============================================================================
# Which GPUs to use (0-based indexing, comma-separated for multiple)
CUDA_VISIBLE_DEVICES=0

# Which GPUs are visible to containers
NVIDIA_VISIBLE_DEVICES=all

# NVIDIA driver capabilities
NVIDIA_DRIVER_CAPABILITIES=compute,utility

# ============================================================================
# ComfyUI Configuration
# ============================================================================
COMFYUI_PORT=8188
COMFYUI_HOST=0.0.0.0

# ============================================================================
# Backend Worker Configuration
# ============================================================================
# ZeroMQ endpoints
ZMQ_REQ_REP_ADDR=tcp://0.0.0.0:5555
ZMQ_PUB_SUB_ADDR=tcp://0.0.0.0:5556

# Backend ports
ZMQ_PORT=5555
METRICS_PORT=8000

# ComfyUI connection
COMFYUI_URL=http://comfyui:8188

# ============================================================================
# MCP Server Configuration
# ============================================================================
MCP_PORT=3001
ZMQ_ENDPOINT=tcp://backend-worker:5555
DGX_PIXELS_CONFIG=/app/config/mcp_config.yaml

# ============================================================================
# Python Configuration
# ============================================================================
PYTHONUNBUFFERED=1
PYTHONDONTWRITEBYTECODE=1

# ============================================================================
# Observability Configuration
# ============================================================================
# Prometheus
PROMETHEUS_PORT=9090
PROMETHEUS_RETENTION=30d
PROMETHEUS_RETENTION_SIZE=50GB

# Grafana
GRAFANA_PORT=3000
GF_SECURITY_ADMIN_USER=admin
GRAFANA_ADMIN_PASSWORD=admin
GF_USERS_ALLOW_SIGN_UP=false

# DCGM Exporter
DCGM_EXPORTER_PORT=9400

# Node Exporter
NODE_EXPORTER_PORT=9100

# ============================================================================
# Storage Paths
# ============================================================================
MODELS_DIR=./models
OUTPUTS_DIR=./outputs
WORKFLOWS_DIR=./workflows
CONFIG_DIR=./config
LOGS_DIR=./logs

# ============================================================================
# Resource Limits
# ============================================================================
MEM_LIMIT=100g
SHM_SIZE=16g

# ============================================================================
# Security
# ============================================================================
# User/Group IDs (match host user to avoid permission issues)
USER_ID=1000
GROUP_ID=1000

# ============================================================================
# Logging
# ============================================================================
LOG_LEVEL=INFO

# ============================================================================
# Development Mode
# ============================================================================
DEV_MODE=false
